{"version":3,"file":"ng-explain-js.js","sources":["../../../src/lib/explainjs.component.ts","../../../src/lib/explainjs.module.ts","../../../src/public-api.ts","../../../src/ng-explain-js.ts"],"sourcesContent":["import {AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'app-explainjs',\n  template: `\n    <div class=\"overlay\"></div>\n    <div class=\"explain-wrapper\" *ngIf=\"steps\">\n      <p class=\"explain-close\" (click)=\"close()\">x</p>\n      <div class=\"explain-text-content\">\n        <h3>{{ currentSteps.title }}</h3>\n        <p>{{ currentSteps.desc }}</p>\n      </div>\n      <div class=\"explain-progression-container\">\n        <div class=\"explain-progression-dots\" #progressbar>\n          <div class=\"progress-round\" *ngFor=\"let step of steps; let i = index\"></div>\n        </div>\n        <div class=\"explain-progression-buttons\">\n          <button class=\"btn previous\" (click)=\"previousStep()\">Précédent</button>\n          <button class=\"btn next\" (click)=\"nextStep()\">Suivant</button>\n        </div>\n      </div>\n    </div>\n  `,\n  styleUrls: ['../../assets/styles.css'],\n})\nexport class ExplainjsComponent implements OnInit, AfterViewInit {\n  @ViewChild('progressbar') progressbar: ElementRef;\n  @Input() steps: { title: string; desc: string; selector: string }[];\n  @Output() closeTutorial: EventEmitter<boolean> = new EventEmitter();\n\n  currentSteps: { title: string; desc: string; selector: string };\n  currentStepElement: HTMLElement;\n  currentStepElementOriginalBorder = '';\n  currentStepElementOriginalZindex = '';\n  position = 0;\n  rounds = undefined;\n  percent = 0;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n    this.currentSteps = this.steps[this.position];\n\n    this.changeCibling();\n\n  }\n\n  ngAfterViewInit(): void {\n    this.initProgressRound();\n  }\n\n  close(): void {\n    this.reInitOriginCibling();\n    this.closeTutorial.emit(true);\n  }\n\n  changeCibling(): void {\n    this.reInitOriginCibling();\n\n    this.currentSteps = this.steps[this.position];\n\n    this.currentStepElement = document.querySelector(this.currentSteps.selector) as HTMLElement;\n    const currentStepStyle = this.currentStepElement.style;\n    this.currentStepElementOriginalBorder = currentStepStyle.border;\n    this.currentStepElementOriginalZindex = currentStepStyle.zIndex;\n    currentStepStyle.zIndex = '1001';\n  }\n\n  reInitOriginCibling(): void {\n    if (this.currentStepElement) {\n      this.currentStepElement.style.border = this.currentStepElementOriginalBorder;\n      this.currentStepElement.style.zIndex = this.currentStepElementOriginalZindex;\n      this.currentStepElement.style.zIndex;\n    }\n  }\n\n  initProgressRound(): void {\n    this.rounds = document.querySelectorAll('.progress-round');\n    this.rounds[0].classList.add('active');\n  }\n\n  nextStep(): void {\n    if ((this.position + 1) < this.steps.length) {\n      this.position++;\n      this.changeCibling();\n      this.progressStepNext();\n    } else {\n      this.close();\n    }\n  }\n\n  previousStep(): void {\n    if ((this.position - 1) >= 0) {\n      this.progressStepprevious();\n      this.position--;\n      this.changeCibling();\n    }\n  }\n\n  progressStepNext(): void {\n    if (this.position < this.rounds.length) {\n      this.rounds[this.position].classList.add('active');\n    }\n  }\n\n  progressStepprevious(): void {\n    if (this.position > 0) {\n      this.rounds[this.position].classList.remove('active');\n    }\n  }\n\n  passeAuSuivant(): void {}\n}\n","import {NgModule} from '@angular/core';\nimport {ExplainjsComponent} from './explainjs.component';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  declarations: [\n    ExplainjsComponent,\n  ],\n  imports: [\n    CommonModule,\n  ],\n  exports: [\n    ExplainjsComponent,\n  ],\n})\nexport class ExplainjsModule {\n}\n","/*\n * Public API Surface of explainjs\n */\n\n// export * from './lib/explainjs.service';\nexport * from './lib/explainjs.component';\nexport * from './lib/explainjs.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}