{"version":3,"file":"ng-explain-js.umd.js","sources":["../../../src/lib/explainjs.component.ts","../../../src/lib/explainjs.module.ts","../../../src/public-api.ts","../../../src/ng-explain-js.ts"],"sourcesContent":["import {AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\n\n@Component({\n  selector: 'app-explainjs',\n  template: `\n    <div class=\"overlay\"></div>\n    <div class=\"explain-wrapper\" *ngIf=\"steps\">\n      <p class=\"explain-close\" (click)=\"close()\">x</p>\n      <div class=\"explain-text-content\">\n        <h3>{{ currentSteps.title }}</h3>\n        <p>{{ currentSteps.desc }}</p>\n      </div>\n      <div class=\"explain-progression-container\">\n        <div class=\"explain-progression-dots\" #progressbar>\n          <div class=\"progress-round\" *ngFor=\"let step of steps; let i = index\"></div>\n        </div>\n        <div class=\"explain-progression-buttons\">\n          <button class=\"btn previous\" (click)=\"previousStep()\">Précédent</button>\n          <button class=\"btn next\" (click)=\"nextStep()\">Suivant</button>\n        </div>\n      </div>\n    </div>\n  `,\n  styleUrls: ['../../assets/styles.css'],\n})\nexport class ExplainjsComponent implements OnInit, AfterViewInit {\n  @ViewChild('progressbar') progressbar: ElementRef;\n  @Input() steps: { title: string; desc: string; selector: string }[];\n  @Output() closeTutorial: EventEmitter<boolean> = new EventEmitter();\n\n  currentSteps: { title: string; desc: string; selector: string };\n  currentStepElement: HTMLElement;\n  currentStepElementOriginalBorder = '';\n  currentStepElementOriginalZindex = '';\n  position = 0;\n  rounds = undefined;\n  percent = 0;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n    this.currentSteps = this.steps[this.position];\n\n    this.changeCibling();\n\n  }\n\n  ngAfterViewInit(): void {\n    this.initProgressRound();\n  }\n\n  close(): void {\n    this.reInitOriginCibling();\n    this.closeTutorial.emit(true);\n  }\n\n  changeCibling(): void {\n    this.reInitOriginCibling();\n\n    this.currentSteps = this.steps[this.position];\n\n    this.currentStepElement = document.querySelector(this.currentSteps.selector) as HTMLElement;\n    const currentStepStyle = this.currentStepElement.style;\n    this.currentStepElementOriginalBorder = currentStepStyle.border;\n    this.currentStepElementOriginalZindex = currentStepStyle.zIndex;\n    currentStepStyle.zIndex = '1001';\n  }\n\n  reInitOriginCibling(): void {\n    if (this.currentStepElement) {\n      this.currentStepElement.style.border = this.currentStepElementOriginalBorder;\n      this.currentStepElement.style.zIndex = this.currentStepElementOriginalZindex;\n      this.currentStepElement.style.zIndex;\n    }\n  }\n\n  initProgressRound(): void {\n    this.rounds = document.querySelectorAll('.progress-round');\n    this.rounds[0].classList.add('active');\n  }\n\n  nextStep(): void {\n    if ((this.position + 1) < this.steps.length) {\n      this.position++;\n      this.changeCibling();\n      this.progressStepNext();\n    } else {\n      this.close();\n    }\n  }\n\n  previousStep(): void {\n    if ((this.position - 1) >= 0) {\n      this.progressStepprevious();\n      this.position--;\n      this.changeCibling();\n    }\n  }\n\n  progressStepNext(): void {\n    if (this.position < this.rounds.length) {\n      this.rounds[this.position].classList.add('active');\n    }\n  }\n\n  progressStepprevious(): void {\n    if (this.position > 0) {\n      this.rounds[this.position].classList.remove('active');\n    }\n  }\n\n  passeAuSuivant(): void {}\n}\n","import {NgModule} from '@angular/core';\nimport {ExplainjsComponent} from './explainjs.component';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  declarations: [\n    ExplainjsComponent,\n  ],\n  imports: [\n    CommonModule,\n  ],\n  exports: [\n    ExplainjsComponent,\n  ],\n})\nexport class ExplainjsModule {\n}\n","/*\n * Public API Surface of explainjs\n */\n\n// export * from './lib/explainjs.service';\nexport * from './lib/explainjs.component';\nexport * from './lib/explainjs.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","i0","i1","Component","ViewChild","Input","Output","CommonModule","NgModule"],"mappings":"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"}