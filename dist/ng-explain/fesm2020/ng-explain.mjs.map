{"version":3,"file":"ng-explain.mjs","sources":["../../../projects/ng-explain/src/lib/Enums/positions.ts","../../../projects/ng-explain/src/lib/ng-explain.component.ts","../../../projects/ng-explain/src/lib/ng-explain.module.ts","../../../projects/ng-explain/src/public-api.ts","../../../projects/ng-explain/src/ng-explain.ts"],"sourcesContent":["export enum POSITIONS {\n    ABOVE = 'above',\n    BELOW = 'below',\n    LEFT = 'left',\n    RIGHT = 'right',\n    DEFAULT = 'left'\n}\n\n\n","import {AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {POSITIONS} from \"./Enums/positions\";\n\ninterface ISteps {\n  title: string;\n  desc: string;\n  selector: string;\n  photoUrl?: string;\n}\n\n@Component({\n  selector: 'ng-explain',\n  template: `\n    <div class=\"ng-explain-wrapper\">\n      <div class=\"overlay\"></div>\n      <div class=\"explain-wrapper\" *ngIf=\"steps\" #explain>\n        <p class=\"explain-close\" \n           [ngStyle]=\"{'background-color': colorSecondary, 'color': colorText}\" \n           (click)=\"close()\">x</p>\n        <div class=\"explain-text-content\">\n          <h3>{{ currentSteps.title }}</h3>\n          <p>{{ currentSteps.desc }}</p>\n        </div>\n        <div class=\"explain-progression-container\">\n          <div class=\"explain-progression-dots\" #progressbar>\n            <div class=\"progress-round\" *ngFor=\"let step of steps; let i = index\"></div>\n          </div>\n          <div class=\"explain-progression-buttons\">\n            <button class=\"btn previous\" \n                    [ngStyle]=\"{'background-color': color, 'color': colorText}\"\n                    (click)=\"previousStep()\">Précédent</button>\n            <button class=\"btn next\" \n                    [ngStyle]=\"{'background-color': colorSecondary, 'color': colorText}\" \n                    (click)=\"nextStep()\">Suivant</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styleUrls: [\"./ng-explain.component.scss\"]\n})\nexport class NgExplainComponent implements OnInit, AfterViewInit {\n  @ViewChild('progressbar') progressbar!: ElementRef;\n  @ViewChild('explain') explain!: ElementRef;\n\n  @Input() steps!: ISteps[];\n  @Input() color!: string;\n  @Input() colorSecondary!: string;\n  @Input() colorText!: string;\n  @Output() closeTutorial: EventEmitter<boolean> = new EventEmitter();\n\n  currentSteps!: ISteps;\n  currentStepElement!: HTMLElement;\n  currentStepElementOriginalBorder = '';\n  currentStepElementOriginalZindex = '';\n  position = 0;\n  rounds!: NodeListOf<HTMLElement>;\n  percent = 0;\n  positions: POSITIONS = POSITIONS.DEFAULT;\n  elementCibling!: HTMLElement;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n    this.currentSteps = this.steps[this.position];\n    this.changeCibling();\n  }\n\n  ngAfterViewInit(): void {\n    this.initProgressRound();\n  }\n\n  close(): void {\n    this.reInitOriginCibling();\n    this.closeTutorial.emit(true);\n  }\n\n  changeCibling(): void {\n    this.reInitOriginCibling();\n\n    this.currentSteps = this.steps[this.position];\n\n    this.currentStepElement = document.querySelector(this.currentSteps.selector) as HTMLElement;\n    const currentStepStyle = this.currentStepElement.style;\n    this.currentStepElementOriginalBorder = currentStepStyle.border;\n    this.currentStepElementOriginalZindex = currentStepStyle.zIndex;\n    currentStepStyle.zIndex = '1001';\n  }\n\n  reInitOriginCibling(): void {\n    if (this.currentStepElement) {\n      this.currentStepElement.style.border = this.currentStepElementOriginalBorder;\n      this.currentStepElement.style.zIndex = this.currentStepElementOriginalZindex;\n      this.currentStepElement.style.zIndex;\n    }\n  }\n\n  initProgressRound(): void {\n    this.rounds = document.querySelectorAll('.progress-round');\n    this.rounds[0].classList.add('active');\n  }\n\n  nextStep(): void {\n    if ((this.position + 1) < this.steps.length) {\n      this.position++;\n      this.changeCibling();\n      this.progressStepNext();\n    } else {\n      this.close();\n    }\n  }\n\n  previousStep(): void {\n    if ((this.position - 1) >= 0) {\n      this.progressStepprevious();\n      this.position--;\n      this.changeCibling();\n    }\n  }\n\n  progressStepNext(): void {\n    if (this.position < this.rounds.length) {\n      this.rounds[this.position].classList.add('active');\n    }\n  }\n\n  progressStepprevious(): void {\n    if (this.position > 0) {\n      this.rounds[this.position].classList.remove('active');\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgExplainComponent } from './ng-explain.component';\nimport {NgIf, NgForOf, NgStyle} from \"@angular/common\";\n\n\n@NgModule({\n  declarations: [\n    NgExplainComponent\n  ],\n    imports: [\n        NgIf,\n        NgForOf,\n        NgStyle\n    ],\n  exports: [\n    NgExplainComponent\n  ]\n})\nexport class NgExplainModule { }\n","/*\n * Public API Surface of ng-explain\n */\n\n// export * from './lib/ng-explain.service';\nexport * from './lib/ng-explain.component';\nexport * from './lib/ng-explain.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}